[TOC]



### 功能1——修改密码

前端位置：ReaderCentre_Info.vue——change_button_password()

#### To后端：

用户Id：userId

新密码：now_pass

#### 接收：

状态码：code——0表示成功，-1表示失败（似乎一定可以成功？，如果一定可以成功也可以不返回）

### 功能2——查作者的作品

前端位置：FocusList.vue——read_book()

#### To后端：

作者Id：userId

#### 接收：

作者的作品list

```
[{"bookId":"1","bookName":"工科数学分析1"},
{"bookId":"2","bookName":"工科数学分析2"}]
```

说明：必须有bookId和bookName，别的可以自由发挥（可以把book的信息都传过来）

### 功能3——用户注销

前端位置：ReaderCentre_Info.vue——delete_user()

#### To后端：

作者Id：userId

#### 接收：

无，后端把该用户删除即可（一定成功）

### 功能4——取消关注

前端位置——FocusList.vue——delete_c()

#### To后端：

作者Id：authorId

用户id：userId

#### 接收：

无，后端取消用户对于作者的关注

### 功能5——获取书籍信息

前端位置——FocusList.vue——read_thisbook(i)

前端位置——CollectionList.vue——read_book(i)

前端位置——CommentList.vue——read_book(i)

#### To后端：

书籍Id：bookId

#### 接收：

书籍的信息

```
{"bookId":"1","bookName":"工科数学分析","bookWriter":"杨小远","authorId":"22","updateTime":"2022-11-1",
            "chapterNum":56,"collectNum":125,"bookAbstract":"这么简单的题都不会，你也配学数分？","picload":"shuxuefenxi"}
```

说明：picload为书籍图片路径，请问后端如何实现图片存储？

**注意：需要authorId**

可提供的方案：

图片保存在本地（前端所在电脑），后端数据库记录图片路径(str)，返回图片路径，前端直接调用本地路径对应图片。

### 功能6——获取我的评论

前端位置：ReaderCentre.vue——gotoComment()

前端位置：CollectionList.vue——delete_comment(i)

#### To后端：

用户Id：userId

#### 接收：

用户的全部评论list，如下

```
[{"bookId":"10086","bookName":"工科数学分析","commentId":"1",
          "commentTime":"2022-11-1","text":"垃圾学科，狗都不学"},
 {"bookId":"10085","bookName":"基础物理实验","commentId":"2",
          "commentTime":"2022-10-9","text":"求分光仪实验报告"},
 {"bookId":"10084","bookName":"数据库设计","commentId":"3",
          "commentTime":"2021-9-18","text":"都别争论了，听我的吧"}]
```

### 功能7——获取我的收藏

前端位置：ReaderCentre.vue——gotoCollect()

前端位置——CollectionList.vue——delete_collect(i)

#### To后端：

用户Id：userId

#### 接收：

用户的全部收藏list，如下

```
[{"bookId":"1","bookName":"工科数学分析","bookWriter":"杨小远","updateTime":"2022-11-1","chapterNum":56,"collectNum":125,"bookAbstract":"这么简单的题都不会，你也配学数分？","picload":"shuxuefenxi"},
  {"bookId":"2","bookName":"基础物理实验","bookWriter":"王文玲","updateTime":"2022-10-9","chapterNum":11,"collectNum":10,"bookAbstract":"基础物理实验是国家精品课程","picload":"3"},
  {"bookId":"3","bookName":"数据库设计","bookWriter":"刘瑞","updateTime":"2021-11-11","chapterNum":25,"collectNum":0,"bookAbstract":"不要偷懒，不要偷懒，不要偷懒","picload":"2"}]
```

### 功能8——获取章节列表

前端位置——FocusList.vue——read_thisbook(i)

前端位置——CollectionList.vue——read_book(i)

前端位置——CommentList.vue——read_book(i)

#### To后端：

书籍Id：bookId

#### 接收：

该书的全部章节list

```
[{"chapterId":"1","chapterName":"第一章 极限与连续"},
        {"chapterId":"2","chapterName":"第二章 傅里叶级数"},
        {"chapterId":"3","chapterName":"第三章 二重积分"},
        {"chapterId":"4","chapterName":"第四章 三重积分"},
        {"chapterId":"5","chapterName":"第五章 四重积分"},
        {"chapterId":"6","chapterName":"第六章 五重积分"},
        {"chapterId":"7","chapterName":"第七章 六重积分"},
        {"chapterId":"8","chapterName":"第八章 七重积分"},
        {"chapterId":"9","chapterName":"第九章 八重积分"}]
```

说明：必须含有章节id和章节名，其余随意

### 功能9——取消收藏

前端位置——CollectionList.vue——delete_collect(i)

#### To后端：

书籍Id：bookId

用户id：userId

#### 接收：

无，后端取消收藏即可

### 功能10——删除评论

前端位置——CollectionList.vue——delete_comment(i)

#### To后端：

评论Id：commentId

用户id：userId

#### 接收：

无，后端删除该评论即可

### 功能11——获取章节内容

前端位置——BookFirstPage.vue——seesee(a,b)

#### To后端：

书籍Id：bookId

章节id：chapterId

#### 接收：

章节信息与内容

```
{"chapterId":"2","chapterName":"第二章 傅里叶级数","updateTime":"2021-5-1","wordNum":"3456","text":"法国数学家傅里叶认为，任何周期函数都可以用正弦函数和余弦函数构成的无穷级数来表示（选择正弦函数与余弦函数作为基函数是因为它们是正交的）。\n后世称傅里叶级数为一种特殊的三角级数，根据欧拉公式，三角函数又能化成指数形式，也称傅立叶级数为一种指数级数。傅里叶级数好好好好！！！"}
```

### 功能12——收藏书

前端位置——BookFirstPage.vue——addcollect()

#### To后端：

书籍Id：bookId

用户id：userId

#### 接收：

无，后端添加收藏即可

### 功能13——关注作者

前端位置——BookFirstPage.vue——addfocus()

#### To后端：

作者Id：authorId

用户id：userId

#### 接收：

无，后端添加关注即可

### 功能14——查看某书评论

前端位置——BookFirstPage.vue——seeComent()

#### To后端：

书籍Id：bookId

#### 接收：

该书的评论信息list

```
[{"userId":"1","userName":"爷傲奈我何", "commentTime":"2022-11-1","text":"垃圾学科，狗都不学，垃圾学科，狗都不学，垃圾学科，狗都不学，垃圾学科，狗都不学，垃圾学科，狗都不学，垃圾学科，狗都不学，哈哈哈哈哈哈哈哈哈"},
{"userId":"1","userName":"冯伟", "commentTime":"2022-11-2","text":"楼上报一下姓名学号，加博雅"},
{"userId":"1","userName":"人族大帝", "commentTime":"2022-11-3","text":"无所谓，我会出手"},
{"userId":"1","userName":"乐子人", "commentTime":"2022-11-3","text":"乐"},
{"userId":"1","userName":"zkj", "commentTime":"2022-11-3","text":"困......"},
{"userId":"1","userName":"冯伟", "commentTime":"2022-11-4","text":"今天上课，zkj你没来，咋回事"},
{"userId":"1","userName":"pcc", "commentTime":"2022-11-4","text":"他还在寝室睡觉"}]
```

### 功能15——写评论

前端位置——BookFirstPage.vue——add_comment()

#### To后端：

评论内容：comment

书籍Id：bookId

用户id：userId

#### 接收：

无，后端添加评论即可

### 功能16——主页搜索

前端位置——ReaderFirstPage.vue——theSearch()

#### To后端：

搜索内容：searchText（如：“斗破苍穹”）

搜索类别：searchType（0表示按作者搜索，1表示按读者搜索）

限制码1：restrictFirstType

| restrictFirstType | 表示含义         |
| ----------------- | ---------------- |
| 0                 | 无要求           |
| 1                 | 在玄幻小说中搜索 |
| 2                 | 在科幻小说中搜索 |
| 3                 | 在都市小说中搜索 |
| 4                 | 在历史小说中搜索 |
| 5                 | 在言情小说中搜索 |
| 6                 | 在悬疑小说中搜索 |
| 7                 | 在武侠小说中搜索 |

限制码1.5：restrictSecondType

| restrictFirstType         | restrictSecondType                            |
| ------------------------- | --------------------------------------------- |
| if restrictFirstType == 0 | 保证是0，无要求                               |
| if restrictFirstType == 1 | 0 无要求 ；1 东方玄幻；2 西方玄幻；3 异世大陆 |
| if restrictFirstType == 2 | 0 无要求 ；1 未来世界；2 超级科技；3 进化变异 |
| if restrictFirstType == 3 | 0 无要求 ；1 都市生活；2 奇人异术；3 娱乐星路 |
| if restrictFirstType == 4 | 0 无要求 ；1 中华历史；2 外国历史；3 架空历史 |
| if restrictFirstType == 5 | 0 无要求 ；1 纯爱唯美；2 婚姻职场；3 宫廷世家 |
| if restrictFirstType == 6 | 0 无要求 ；1 侦探推理；2 探险生存；3 诡秘恐怖 |
| if restrictFirstType == 7 | 0 无要求 ；1 现代武侠；2 古代武侠；3 奇幻武侠 |

限制码2：restrictUpdate

| restrictUpdate | 表示含义             |
| -------------- | -------------------- |
| 0              | 无要求               |
| 1              | 三天内更新过         |
| 2              | 一周内更新过         |
| 3              | 最近更新时间超过一周 |

限制码3：restrictChapter

| restrictChapter | 表示含义       |
| --------------- | -------------- |
| 0               | 无要求         |
| 1               | 章节数10以下   |
| 2               | 章节数10-30章  |
| 3               | 章节数30章以上 |

限制码4：restrictFinish

| restrictFinish | 表示含义         |
| -------------- | ---------------- |
| 0              | 无要求           |
| 1              | 只搜索已完结小说 |
| 2              | 只搜索连载中小说 |

#### 接收：

返回搜索到的书籍基本信息列表（与功能7格式一样）